var D=Object.defineProperty,P=Object.defineProperties;var O=Object.getOwnPropertyDescriptors;var V=Object.getOwnPropertySymbols;var T=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var N=(l,o,e)=>o in l?D(l,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):l[o]=e,x=(l,o)=>{for(var e in o||(o={}))T.call(o,e)&&N(l,e,o[e]);if(V)for(var e of V(o))A.call(o,e)&&N(l,e,o[e]);return l},v=(l,o)=>P(l,O(o));var S=(l,o,e)=>new Promise((g,c)=>{var _=a=>{try{i(e.next(a))}catch(t){c(t)}},h=a=>{try{i(e.throw(a))}catch(t){c(t)}},i=a=>a.done?g(a.value):Promise.resolve(a.value).then(_,h);i((e=e.apply(l,o)).next())});import{u as $}from"./vxe-table-B7STcP-D.js";import{Y as j}from"./bootstrap-Au4d-F89.js";import{_ as w,g as E}from"./team-drawer.vue_vue_type_script_setup_true_lang-B6IJY2v5.js";import{T as C}from"./index-B4BFlHxb.js";import{_ as G}from"./page.vue_vue_type_script_setup_true_lang-A6ZDe2rU.js";import{a1 as U,ai as q,aj as B,ak as n,p as m,a9 as p,ax as f,az as r,ap as L,an as M,ay as u}from"../jse/index-index-CFA9wU3M.js";import{u as R}from"./use-drawer-CIbI92Ph.js";import"./TextArea-CEfyFHq8.js";import"./vnode-RLuRTV-8.js";import"./FormItemContext-H5qyB-AK.js";import"./statusUtils-CQRqFkro.js";import"./index-DQ39l0_k.js";import"./ResizeObserver.es-CDE7jhPe.js";import"./BaseInput-DhVP4P6Z.js";import"./css-BPcmMxJM.js";import"./index-D_s94SBN.js";import"./index-iGiInfzu.js";import"./Trigger-DyJA1gKU.js";import"./colors-BFgRqAnP.js";import"./CheckOutlined-DTNNGhwd.js";import"./useMergedState-87pdrfAl.js";import"./index-TNegWul3.js";import"./EyeOutlined-DaeTik4u.js";import"./index-DcNbeYRz.js";import"./Separator.vue_vue_type_script_setup_true_lang-BetSf3IQ.js";const Y={class:"flex flex-col"},F={class:"flex flex-col"},H={class:"flex flex-col"},J={key:0},kt=U({__name:"index",setup(l){const[o,e]=R({connectedComponent:w});function g(i){e.setData(i).open()}const c={collapsed:!1,schema:[{component:"Input",fieldName:"uid",label:"用户编号",componentProps:{allowClear:!0,placeholder:"请输入用户编号"}},{component:"Input",fieldName:"name",label:"名称",componentProps:{allowClear:!0,placeholder:"请输入用户名"}},{component:"Input",fieldName:"mobile",label:"手机号",componentProps:{allowClear:!0,placeholder:"请输入手机号"}},{component:"Select",componentProps:{allowClear:!0,options:[{label:"不通过",value:1},{label:"待审核",value:0},{label:"通过",value:2}],placeholder:"请选择状态"},defaultValue:2,fieldName:"status",label:"状态"}],showCollapseButton:!0,submitOnChange:!1,submitOnEnter:!0},_={columns:[{title:"用户编号/昵称/手机号",slots:{default:"userInfo"}},{title:"分销商信息",slots:{default:"distributorInfo"}},{title:"类型",slots:{default:"type"}},{field:"status",title:"状态",slots:{default:"status"}},{title:"状态",slots:{default:"auditStatus"}},{title:"申请时间/更新时间",slots:{default:"time"}},{title:"操作",slots:{default:"action"},width:150,fixed:"right"}],exportConfig:{},height:"auto",keepSource:!0,pagerConfig:{enabled:!0},proxyConfig:{ajax:{query:(t,b)=>S(null,[t,b],function*({page:i},a){var d,k,y;try{const s=yield E(x({page:i.currentPage,pageSize:i.pageSize},a));return{items:s.result.map(I=>v(x({},I),{userInfo:s.userMap[I.uid]||{}})),total:s.totalRow}}catch(s){if(((s==null?void 0:s.code)||((k=(d=s==null?void 0:s.response)==null?void 0:d.data)==null?void 0:k.code)||((y=s==null?void 0:s.data)==null?void 0:y.code))===700)return{items:[],total:0};throw s}})}},toolbarConfig:{custom:!0,export:!0,refresh:!0,resizable:!0,search:!0,zoom:!0},rowConfig:{height:100}},[h]=$({formOptions:c,gridOptions:_});return(i,a)=>(B(),q(p(G),{"auto-content-height":""},{default:n(()=>[m(p(h),null,{userInfo:n(({row:t})=>{var b,d;return[r("div",Y,[r("span",null,u(t.uid),1),r("span",null,u(((b=t.userInfo)==null?void 0:b.nick)||t.name),1),r("span",null,u(((d=t.userInfo)==null?void 0:d.mobile)||t.mobile),1)])]}),distributorInfo:n(({row:t})=>[r("div",F,[r("span",null,u(t.name),1),r("span",null,u(t.mobile),1)])]),type:n(()=>[m(p(C),{color:"green"},{default:n(()=>[...a[0]||(a[0]=[f("添加个人类型分销商",-1)])]),_:1})]),status:n(({row:t})=>[m(p(C),{color:t.status===2?"green":t.status===0?"orange":"red"},{default:n(()=>[f(u(t.status===2?"已审核":t.status===0?"待审核":"不通过"),1)]),_:2},1032,["color"])]),auditStatus:n(({row:t})=>[m(p(C),{color:t.status===2?"green":t.status===0?"orange":"red"},{default:n(()=>[f(u(t.status===2?"正常":t.status===0?"待审核":"不通过"),1)]),_:2},1032,["color"])]),time:n(({row:t})=>[r("div",H,[r("span",null,u(t.dateAdd),1),t.dateUpdate?(B(),L("span",J,u(t.dateUpdate),1)):M("",!0)])]),action:n(({row:t})=>[m(p(j),{type:"link",onClick:b=>g(t)},{default:n(()=>[...a[1]||(a[1]=[f("查看团队",-1)])]),_:1},8,["onClick"])]),_:1}),m(p(o))]),_:1}))}});export{kt as default};
