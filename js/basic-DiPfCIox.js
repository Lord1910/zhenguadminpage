var z=Object.defineProperty;var A=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;var C=(t,e,a)=>e in t?z(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,_=(t,e)=>{for(var a in e||(e={}))V.call(e,a)&&C(t,a,e[a]);if(A)for(var a of A(e))O.call(e,a)&&C(t,a,e[a]);return t};var w=(t,e,a)=>new Promise((r,u)=>{var c=d=>{try{v(a.next(d))}catch(s){u(s)}},f=d=>{try{v(a.throw(d))}catch(s){u(s)}},v=d=>d.done?r(d.value):Promise.resolve(d.value).then(c,f);v((a=a.apply(t,e)).next())});import{c7 as Z,aW as L,aX as U,bc as q,b7 as D,c8 as X}from"./bootstrap-BnFqTT3Q.js";import{_ as j}from"./login.vue_vue_type_script_setup_true_lang-BHKlqXz8.js";import{L as R,ad as F,a4 as H,V as Q,_ as G,a1 as N,aW as J,aX as K,U as W,E as b,ap as Y,aj as M,p,ak as h,a9 as i,al as ee,Z as I,ai as ae}from"../jse/index-index-A7o_f1i5.js";import{u as te,_ as oe,N as se,a as re,b as ne}from"./layout.vue_vue_type_script_setup_true_lang-BPcNTUV3.js";import{_ as ie}from"./avatar.vue_vue_type_script_setup_true_lang-6RGJtSxo.js";import"./captcha-input--39rxukU.js";import"./index-2raen5tj.js";import"./FormItemContext-C01gCZrP.js";import"./statusUtils-0GcaAScY.js";import"./TextArea-BDouj4eU.js";import"./vnode-DcLgltNd.js";import"./index-xTYCVOa7.js";import"./ResizeObserver.es-CDE7jhPe.js";import"./BaseInput-B6VzGuz6.js";import"./css-BPcmMxJM.js";import"./index-CDvhdCT1.js";import"./SearchOutlined-BuV9sjrc.js";import"./isPlainObject-Crrj_qOO.js";import"./EyeOutlined-BFWiNkTY.js";import"./auth-title-BvAYyVY2.js";import"./theme-toggle.vue_vue_type_script_setup_true_lang-Srs8VJH6.js";import"./use-drawer-C-J7ekaj.js";import"./Separator.vue_vue_type_script_setup_true_lang-DZHJYLeV.js";import"./TabsList.vue_vue_type_script_setup_true_lang-D32HggLb.js";import"./TabsContent.vue_vue_type_script_setup_true_lang-Bmp9NEzz.js";import"./Switch.vue_vue_type_script_setup_true_lang-D38YrS2-.js";import"./rotate-cw-BuRtAxzR.js";const m=R(),E=R(!1),k=R({advancedStyle:{colorStops:[{color:"gray",offset:0},{color:"gray",offset:1}],type:"linear"},content:"",contentType:"multi-line-text",globalAlpha:.25,gridLayoutOptions:{cols:2,gap:[20,20],matrix:[[1,0],[0,1]],rows:2},height:200,layout:"grid",rotate:30,width:160});function le(){function t(r){return w(this,null,function*(){var c;const{Watermark:u}=yield G(()=>w(null,null,function*(){const{Watermark:f}=yield import("./index.esm-j49SPltB.js");return{Watermark:f}}),[]);k.value=_(_({},k.value),r),m.value=new u(k.value),yield(c=m.value)==null?void 0:c.create()})}function e(r){return w(this,null,function*(){var u;m.value?(yield Q(),yield(u=m.value)==null?void 0:u.changeOptions(_(_({},k.value),r))):yield t(r)})}function a(){m.value&&(m.value.destroy(),m.value=void 0)}return E.value||(E.value=!0,F(()=>{a()})),{destroyWatermark:a,updateWatermark:e,watermark:H(m)}}const ue=N({name:"LoginExpiredModal",__name:"login-expired-modal",props:J({avatar:{default:""},zIndex:{default:0},codeLoginPath:{},forgetPasswordPath:{},loading:{type:Boolean},qrCodeLoginPath:{},registerPath:{},showCodeLogin:{type:Boolean},showForgetPassword:{type:Boolean},showQrcodeLogin:{type:Boolean},showRegister:{type:Boolean},showRememberMe:{type:Boolean},showThirdPartyLogin:{type:Boolean},subTitle:{},title:{},submitButtonText:{}},{open:{type:Boolean},openModifiers:{}}),emits:["update:open"],setup(t){const e=t,a=K(t,"open"),[r,u]=te();W(()=>a.value,s=>{u.setState({isOpen:s})});const c=b(()=>e.zIndex||d()),f=["ant-message","loading"];function v(s){return f.some(g=>s.classList.contains(g))}function d(){let s=0;return[...document.querySelectorAll("*")].forEach(x=>{const y=window.getComputedStyle(x).getPropertyValue("z-index");y&&!Number.isNaN(Number.parseInt(y))&&!v(x)&&(s=Math.max(s,Number.parseInt(y)))}),s+1}return(s,g)=>(M(),Y("div",null,[p(i(r),{closable:!1,"close-on-click-modal":!1,"close-on-press-escape":!1,footer:!1,"fullscreen-button":!1,header:!1,"z-index":c.value,class:"border-none px-10 py-6 text-center shadow-xl sm:w-[600px] sm:rounded-2xl md:h-[unset]"},{default:h(()=>[p(i(ie),{src:t.avatar,class:"mx-auto mb-6 size-20"},null,8,["src"]),p(i(Z),{"show-forget-password":!1,"show-register":!1,"show-remember-me":!1,"sub-title":i(L)("authentication.loginAgainSubTitle"),title:i(L)("authentication.loginAgainTitle")},{default:h(()=>[ee(s.$slots,"default")]),_:3},8,["sub-title","title"])]),_:3},8,["z-index"])]))}}),ze=N({__name:"basic",setup(t){const e=R([{id:1,avatar:"https://avatar.vercel.sh/vercel.svg?text=VB",date:"3小时前",isRead:!0,message:"描述信息描述信息描述信息",title:"收到了 14 份新周报"},{id:2,avatar:"https://avatar.vercel.sh/1",date:"刚刚",isRead:!1,message:"描述信息描述信息描述信息",title:"朱偏右 回复了你"},{id:3,avatar:"https://avatar.vercel.sh/1",date:"2024-01-01",isRead:!1,message:"描述信息描述信息描述信息",title:"曲丽丽 评论了你"},{id:4,avatar:"https://avatar.vercel.sh/satori",date:"1天前",isRead:!1,message:"描述信息描述信息描述信息",title:"代办提醒"},{id:5,avatar:"https://avatar.vercel.sh/satori",date:"1天前",isRead:!1,message:"描述信息描述信息描述信息",title:"跳转Workspace示例",link:"/workspace"},{id:6,avatar:"https://avatar.vercel.sh/satori",date:"1天前",isRead:!1,message:"描述信息描述信息描述信息",title:"跳转外部链接示例",link:"https://doc.vben.pro"}]),a=U(),r=q(),u=D(),c=X(),{destroyWatermark:f,updateWatermark:v}=le(),d=b(()=>e.value.some(n=>!n.isRead)),s=b(()=>[{handler:()=>{a.push({name:"Profile"})},icon:"lucide:user",text:L("page.auth.profile")}]),g=b(()=>{var n,o;return(o=(n=r.userInfo)==null?void 0:n.avatar)!=null?o:I.app.defaultAvatar});function x(){return w(this,null,function*(){yield u.logout(!1)})}function S(){e.value=[]}function y(n){const o=e.value.find(l=>l.id===n);o&&(o.isRead=!0)}function $(n){e.value=e.value.filter(o=>o.id!==n)}function T(){e.value.forEach(n=>n.isRead=!0)}return W(()=>({enable:I.app.watermark,content:I.app.watermarkContent}),l=>w(null,[l],function*({enable:n,content:o}){var B,P;n?yield v({content:o||`${(B=r.userInfo)==null?void 0:B.username} - ${(P=r.userInfo)==null?void 0:P.realName}`}):f()}),{immediate:!0}),(n,o)=>(M(),ae(i(ne),{onClearPreferencesAndLogout:x},{"user-dropdown":h(()=>{var l;return[p(i(re),{avatar:g.value,menus:s.value,text:(l=i(r).userInfo)==null?void 0:l.realName,"tag-text":"Pro",onLogout:x},null,8,["avatar","menus","text"])]}),notification:h(()=>[p(i(se),{dot:d.value,notifications:e.value,onClear:S,onRead:o[0]||(o[0]=l=>l.id&&y(l.id)),onRemove:o[1]||(o[1]=l=>l.id&&$(l.id)),onMakeAll:T},null,8,["dot","notifications"])]),extra:h(()=>[p(i(ue),{open:i(c).loginExpired,"onUpdate:open":o[2]||(o[2]=l=>i(c).loginExpired=l),avatar:g.value},{default:h(()=>[p(j)]),_:1},8,["open","avatar"])]),"lock-screen":h(()=>[p(i(oe),{avatar:g.value,onToLogin:x},null,8,["avatar"])]),_:1}))}});export{ze as default};
